# =============================================================================
# NHN Cloud Exporter - 환경 변수 예시
# 사용법: cp .env.example .env 후 실제 값으로 수정
# 코드 수정 후: docker compose build --no-cache && docker compose up -d
# =============================================================================

# -----------------------------------------------------------------------------
# 애플리케이션
# -----------------------------------------------------------------------------
APP_NAME=NHN Cloud Exporter
APP_VERSION=1.0.0
ENVIRONMENT=DEV
DEBUG=false

# -----------------------------------------------------------------------------
# NHN Cloud API 인증 (config.py 기준 전체 목록)
# -----------------------------------------------------------------------------
# [필수] Appkey - CDN/DNS 등 + RDS 시 X-TC-APP-KEY 로도 사용
NHN_APPKEY=your-appkey-here

# [필수] IAM - 로그인 이메일, 비밀번호, 테넌트 (LB 등 토큰 인증에 사용)
NHN_IAM_USER=your-iam-username
NHN_IAM_PASSWORD=your-iam-password
NHN_TENANT_ID=your-tenant-id
NHN_AUTH_URL=https://api-identity-infrastructure.nhncloudservice.com/v2.0

# [OBS 403 해결 시 필수] Object Storage 전용 API 비밀번호 (콘솔 Set API Password 와 동일)
# 비우면 앱이 IAM 비밀번호로 OBS 토큰 발급 → 403. 따옴표/앞뒤 공백 넣지 말 것.
# 확인: 로그에 "OBS API 비밀번호 사용" 나와야 함. 없으면: docker exec nhn-cloud-exporter env | grep NHN_OBS
NHN_OBS_API_PASSWORD=

# [RDS 메트릭 수집 시 권장] RDS API v3 인증 (없으면 IAM 토큰 시도)
# NHN_ACCESS_KEY_ID=your-access-key-id
# NHN_ACCESS_KEY_SECRET=your-access-key-secret

# -----------------------------------------------------------------------------
# API 엔드포인트 (기본값 사용 시 생략 가능)
# -----------------------------------------------------------------------------
# NHN_DNSPLUS_API_URL=https://dnsplus.api.nhncloudservice.com
# NHN_LB_API_URL=https://kr1-api-network-infrastructure.nhncloudservice.com
# NHN_RDS_API_URL=https://kr1-rds-mysql.api.nhncloudservice.com
# NHN_CDN_API_URL=https://cdn.api.nhncloudservice.com
# NHN_OBS_API_URL=https://kr1-api-object-storage.nhncloudservice.com

# -----------------------------------------------------------------------------
# 메트릭 수집 설정
# -----------------------------------------------------------------------------
METRICS_COLLECTION_INTERVAL=60
METRICS_CACHE_TTL=30

# -----------------------------------------------------------------------------
# 서비스별 활성화 (true/false)
# -----------------------------------------------------------------------------
GSLB_ENABLED=true
LB_ENABLED=true
RDS_ENABLED=true
CDN_ENABLED=true
OBS_ENABLED=true
INSTANCE_ENABLED=true
SERVICE_OPERATIONS_ENABLED=true

# -----------------------------------------------------------------------------
# 리소스 필터 (비우면 전체 수집, 쉼표 구분)
# -----------------------------------------------------------------------------
# LB_IDS=
# RDS_INSTANCE_IDS=
# CDN_SERVICE_IDS=
# OBS_CONTAINERS=
# INSTANCE_IDS=

# -----------------------------------------------------------------------------
# 서비스 운영 지표 (Photo API 등) - 해당 시에만 설정
# -----------------------------------------------------------------------------
PHOTO_API_OBS_CONTAINER=photo
PHOTO_API_CDN_APP_KEY=
PHOTO_API_RDS_INSTANCE_ID=db
PHOTO_API_LB_IDS=

# =============================================================================
# 체크리스트 (404/403 나올 때 확인)
# =============================================================================
# - RDS: NHN_RDS_API_URL 기본값 사용 또는 kr1-rds-mysql / kr2 / jp1
#        RDS 메트릭 쓰려면 NHN_ACCESS_KEY_ID, NHN_ACCESS_KEY_SECRET 설정 권장
# - CDN 404: CDN 미사용 시 정상. 사용 중이면 NHN_APPKEY·CDN 엔드포인트 확인
# - OBS 403: NHN_OBS_API_PASSWORD = 콘솔 Set API Password 값 (동일하게)
#            NHN_IAM_USER 가 해당 프로젝트(테넌트) 멤버인지 확인
# - 코드/설정 변경 후: docker compose build --no-cache && docker compose up -d
# =============================================================================
